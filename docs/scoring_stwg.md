

# 缩头乌龟（STWG）评分机制说明

*（平台极致缩量 → 区域突破型模型）*

> 风险声明：本模型仅用于学习研究与辅助决策，不构成任何投资建议；请自行承担交易风险。

本文解释 **STWG（缩头乌龟）模型** 的评分计算逻辑，以及未来导出股票池时可使用的筛选口径。

模型核心思想：
**不预测、不抄底，只等待“缩到极致之后的方向选择”，并且只参与“向上突破”的那一瞬间。**

---

## 1. 模型核心结构定义（A / B / C 三阶段）

STWG 是一个**结构优先、指标辅助**的模型，其所有评分都围绕以下三段结构是否成立。

---

### 阶段 A：温和上升 + 成交量配合（建立“区域 R”）

定义一段 **若干交易日（通常 20～60 日）** 的温和上行结构：

* K 线整体呈**缓慢抬高**
* 均线呈多头排列（以 MA20 / MA60 为主）
* 成交量 **温和放大**（非放量拉升）
* 最终形成：

  * 一个区间高点
  * 或一个价格密集成交区域

该区间被定义为：

```
区域 R（Region R）
```

> 直觉：
> 阶段 A 不是主升浪，而是“资金悄悄建仓并抬高成本”的过程。

---

### 阶段 B：缩量回调 + 平台极致压缩（“缩头”）

在区域 R 之后，价格进入调整，但必须满足：

* **不爆跌**
* **不破位**
* 回调过程中：

  * 成交量持续递减
  * 振幅持续收敛
* 价格运行于：

  * MA10 或 MA20 附近
  * 且中期趋势未被破坏

此阶段的关键特征：

> **成交量“缩到缩不下去”，
> 波动率“压到极低水平”。**

---

### 阶段 C：突破区域 R（缩头之后必然选方向）

在阶段 B 成立后：

* 价格向上突破 **区域 R 上沿**
* 成交量出现：

  * **1～2 倍于近期均量的放量**
* 突破应当是：

  * 实体 K 线
  * 而非影线假突破

> STWG **只在阶段 C 给高分**，
> 阶段 B 只是“观察区”，不是买点。

---

## 2. 风险否决（先执行）

任何评分之前，先执行风险否决；一旦命中，**当日评分直接归零**，并打上 `RISK_FILTERED`。

### 2.1 下跌结构否决（Downtrend Filter）

若满足任一条件：

* MA20 < MA60
* 或 MA20、MA60 同时向下
* 或 close < MA60 且持续 ≥ 3 日

→ 直接否决。

> 直觉：
> 缩头只能发生在“趋势仍然向上”的前提下。

---

### 2.2 暴力回调否决（Violent Pullback）

在阶段 B 尝试期间，若出现：

* 单日跌幅 ≥ 8%
* 或连续 3 日跌幅 ≥ 12%
* 或放量下跌（volume ≥ 1.8 × 20 日均量 且 close 下跌）

→ 否决。

---

### 2.3 高位追涨否决（Overextension Filter）

若当前价格距离近 120 日最高价不足：

```
(high_120d_max - close) / high_120d_max < 0.12
```

→ 否决。

> STWG 不是趋势追涨模型，而是“压缩 → 突破”模型。

---

## 3. 子分项评分（每项 0～10）

未触发风险否决时，计算以下 7 个子分项。

---

## 3.1 趋势基础分（trend_base_score）

用于确认模型的“生存土壤”。

* MA20 > MA60：`6`
* MA20 > MA60 且 MA60 近 20 日上行：`10`
* 其它：`0`

---

## 3.2 阶段 A 结构分（stageA_structure_score）

判断是否存在“可定义的区域 R”。

在最近 60～120 日内：

* 价格整体抬升（区间低点逐步抬高）
* 成交量均值较更早期 **温和放大**
* 形成明显区间高点或密集成交区

打分：

* 明确阶段 A 且区域 R 清晰：`10`
* 结构存在但不够规整：`6`
* 不成立：`0`

---

## 3.3 阶段 B 缩量压缩分（stageB_compression_score）

这是 **STWG 的核心评分项**。

### 同时考察两件事：

#### (a) 振幅压缩（volatility compression）

最近 15～20 日：

```
amplitude = (high - low) / low
```

* amplitude ≤ 6%：`10`
* amplitude ≤ 10%：`6`
* 否则：`0`

#### (b) 成交量极度收缩（volume dry-up）

* 最近 5 日均量 ≤ 20 日均量 × 0.6：`10`
* ≤ 0.8：`6`
* 否则：`0`

最终：

```
stageB_compression_score = (a + b) / 2
```

---

## 3.4 平台支撑稳定分（platform_support_score）

在阶段 B 中：

* close ≥ MA10 或 MA20
* 且 MA10 / MA20 未明显下行
* 回调低点不破前一平台低点

打分：

* 稳定平台：`10`
* 有回踩但未破坏结构：`6`
* 否则：`0`

---

## 3.5 突破确认分（breakout_confirmation_score）

判断是否进入 **阶段 C**。

* close 突破 区域 R 上沿
* volume ≥ 1.2 × 20 日均量

打分：

* volume ≥ 1.8 × 均量：`10`
* 1.2～1.8 × 均量：`6`
* 未突破：`0`

---

## 3.6 RSI 状态分（rsi_state_score）

STWG 偏好 **中性偏强、但未过热** 的状态：

| RSI14 | 分数 |
| ----- | -- |
| 45～60 | 10 |
| 60～65 | 6  |
| < 45  | 3  |
| ≥ 70  | 0  |

---

## 3.7 空间确认分（space_after_breakout_score）

仅在已突破区域 R 时计算：

```
space = (next_resistance - close) / close
```

* space ≥ 20%：`10`
* space ≥ 12%：`6`
* 否则：`0`

---

## 4. 总分合成（0～100）

```
total_score =
  trend_base_score              * 15%
+ stageA_structure_score        * 15%
+ stageB_compression_score      * 25%
+ platform_support_score        * 10%
+ breakout_confirmation_score   * 20%
+ rsi_state_score               *  5%
+ space_after_breakout_score    * 10%
```

> 权重明显向 **阶段 B + 突破确认** 倾斜，这是 STWG 与 LAOWANG 的核心差异。

---

## 5. 状态标签（status_tags）

在未触发否决时，根据结构自动生成标签：

* `STAGE_A_OK`
* `STAGE_B_COMPRESSED`
* `VOLUME_DRY_UP`
* `AT_PLATFORM`
* `BREAKOUT_R`
* `VOLUME_EXPANSION`
* `SPACE_OK`

若触发否决，仅输出：

```
["RISK_FILTERED"]
```

---

## 6. 模型使用建议（非代码逻辑）

* **评分 70+ 且包含 `BREAKOUT_R`**：
  → 标准 STWG 形态，优先级最高
* **评分 60+ 但未突破**：
  → 观察池（等待 C 阶段）
* **阶段 B 分数高但趋势分下降**：
  → 放弃，不等
